<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      -->
<title>NATSORT Examples</title>
<meta name="generator" content="MATLAB 24.2">
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/">
<meta name="DC.date" content="2024-12-25">
<meta name="DC.source" content="natsort_doc.m">
<style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; }

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }
span.typesection { color:#A0522D }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style>
</head>
<body>
<div class="content">
<h1>
<tt>NATSORT</tt> Examples</h1>
<!--introduction-->
<p>The function <a href="https://www.mathworks.com/matlabcentral/fileexchange/34464"><tt>NATSORT</tt></a> sorts the elements of a text array <tt>A</tt> (cell/string/...) taking into account number values within the text. This is known as <i>natural order</i> or <i>alphanumeric order</i>. Note that MATLAB's inbuilt <a href="https://www.mathworks.com/help/matlab/ref/sort.html"><tt>SORT</tt></a> function sorts text by <a href="https://www.mathworks.com/help/matlab/matlab_prog/unicode-and-ascii-values.html">character code</a>, as does <tt>SORT</tt> in most programming languages.</p>
<p>Other useful text sorting functions:</p>
<div>
<ul>
<li>Alphanumeric sort of filenames, foldernames, and filepaths: <a href="https://www.mathworks.com/matlabcentral/fileexchange/47434"><tt>NATSORTFILES</tt></a>
</li>
<li>Alphanumeric sort the rows of a string/cell/table/etc array: <a href="https://www.mathworks.com/matlabcentral/fileexchange/47433"><tt>NATSORTROWS</tt></a>
</li>
<li>Sort text into the order of arbitrary/custom text sequences: <a href="https://www.mathworks.com/matlabcentral/fileexchange/132263"><tt>ARBSORT</tt></a>
</li>
</ul>
</div>
<p>Both <tt>NATSORTFILES</tt> and <tt>NATSORTROWS</tt> call <tt>NATSORT</tt>.</p>
<!--/introduction-->
<h2>Contents</h2>
<div>
<ul>
<li>
<a href="#1">Basic Usage: Integer Numbers</a>
</li>
<li>
<a href="#2">Input 1: Array to Sort</a>
</li>
<li>
<a href="#3">Input 2: Regular Expression</a>
</li>
<li>
<a href="#4">Input 3+: Case Sensitivity</a>
</li>
<li>
<a href="#5">Input 3+: Sort Direction</a>
</li>
<li>
<a href="#6">Input 3+: Char/Number Order</a>
</li>
<li>
<a href="#7">Input 3+: NaN/Number Order</a>
</li>
<li>
<a href="#8">Input 3+: <tt>SSCANF</tt> Format String (Floating Point, Hexadecimal, Octal, Binary, 64 Bit Integer)</a>
</li>
<li>
<a href="#9">Input 3+: Text Sorting Function</a>
</li>
<li>
<a href="#10">Output 2: Sort Index</a>
</li>
<li>
<a href="#11">Output 3: Debugging Array</a>
</li>
<li>
<a href="#12">Regular Expression: Decimal Fractions, E-notation, +/- Sign</a>
</li>
<li>
<a href="#13">Regular Expression: Hexadecimal, Octal, Binary Integers</a>
</li>
<li>
<a href="#14">Regular Expression: Ignore Leading and/or Trailing Whitespace</a>
</li>
<li>
<a href="#15">Example: Categorical Categories</a>
</li>
<li>
<a href="#16">Example: Decimal Comma and Decimal Point</a>
</li>
<li>
<a href="#17">Bonus: Interactive Regular Expression Tool</a>
</li>
</ul>
</div>
<h2 id="1">Basic Usage: Integer Numbers</h2>
<p>By default <tt>NATSORT</tt> interprets consecutive digits in <tt>A</tt> as being a single integer, any remaining substrings are treated as text:</p>
<pre class="codeinput">Aa = [<span class="string">"a2"</span>, <span class="string">"a10"</span>, <span class="string">"a1"</span>];
sort(Aa) <span class="comment">% for comparison</span>
natsort(Aa)
Ab = [<span class="string">"v9.10"</span>, <span class="string">"v9.5"</span>, <span class="string">"v9.2"</span>, <span class="string">"v9.10.20"</span>, <span class="string">"v9.10.8"</span>];
sort(Ab) <span class="comment">% for comparison</span>
natsort(Ab)
</pre>
<pre class="codeoutput">ans = 
  1&times;3 string array
    "a1"    "a10"    "a2"
ans = 
  1&times;3 string array
    "a1"    "a2"    "a10"
ans = 
  1&times;5 string array
    "v9.10"    "v9.10.20"    "v9.10.8"    "v9.2"    "v9.5"
ans = 
  1&times;5 string array
    "v9.2"    "v9.5"    "v9.10"    "v9.10.8"    "v9.10.20"
</pre>
<h2 id="2">Input 1: Array to Sort</h2>
<p>The first input <tt>A</tt> must be one of the following array types:</p>
<div>
<ul>
<li>a cell array of character row vectors,</li>
<li>a <a href="https://www.mathworks.com/help/matlab/matlab_prog/create-string-arrays.html">string array</a>,</li>
<li>a <a href="https://www.mathworks.com/help/matlab/categorical-arrays.html">categorical array</a>,</li>
<li>a <a href="https://www.mathworks.com/help/matlab/ref/datetime.html">datetime array</a>,</li>
<li>any other array type that can be converted by <a href="https://www.mathworks.com/help/matlab/ref/cellstr.html"><tt>CELLSTR</tt></a>
</li>
</ul>
</div>
<p>The sorted array is returned as the first output, for example:</p>
<pre class="codeinput">Ac = categorical({<span class="string">'a2'</span>,<span class="string">'a10'</span>,<span class="string">'a1'</span>});
natsort(Ac) <span class="comment">% see also REORDERCATS below!</span>
</pre>
<pre class="codeoutput">ans = 
  1&times;3 categorical array
     a1      a2      a10 
</pre>
<h2 id="3">Input 2: Regular Expression</h2>
<p>The optional second input argument <tt>rgx</tt> is a regular expression which specifies the number matching (see "Regular Expression" sections below for more examples of regular expressions for matching common numbers):</p>
<pre class="codeinput">Ad = [<span class="string">"1.3"</span>, <span class="string">"1.10"</span>, <span class="string">"1.2"</span>];
natsort(Ad) <span class="comment">% by default match integers.</span>
natsort(Ad, <span class="string">'\d+\.?\d*'</span>) <span class="comment">% match decimal fractions.</span>
</pre>
<pre class="codeoutput">ans = 
  1&times;3 string array
    "1.2"    "1.3"    "1.10"
ans = 
  1&times;3 string array
    "1.10"    "1.2"    "1.3"
</pre>
<h2 id="4">Input 3+: Case Sensitivity</h2>
<p>By default <tt>NATSORT</tt> provides a case-insensitive sort of the array elements. An optional input argument selects case-sensitive/insensitive sorting:</p>
<pre class="codeinput">Ae = [<span class="string">"a2"</span>, <span class="string">"A20"</span>, <span class="string">"A1"</span>, <span class="string">"a"</span>, <span class="string">"A"</span>, <span class="string">"a10"</span>, <span class="string">"A2"</span>, <span class="string">"a1"</span>];
natsort(Ae, [], <span class="string">'ignorecase'</span>) <span class="comment">% default</span>
natsort(Ae, [], <span class="string">'matchcase'</span>)
</pre>
<pre class="codeoutput">ans = 
  1&times;8 string array
    "a"    "A"    "A1"    "a1"    "a2"    "A2"    "a10"    "A20"
ans = 
  1&times;8 string array
    "A"    "A1"    "A2"    "A20"    "a"    "a1"    "a2"    "a10"
</pre>
<h2 id="5">Input 3+: Sort Direction</h2>
<p>By default <tt>NATSORT</tt> provides an ascending sort of the array elements. An optional input argument selects the sort direction (note that characters and numbers are either both ascending or both descending):</p>
<pre class="codeinput">Af = [<span class="string">"2"</span>, <span class="string">"a"</span>, <span class="string">""</span>, <span class="string">"10"</span>, <span class="string">"B"</span>, <span class="string">"1"</span>];
natsort(Af, [], <span class="string">'ascend'</span>) <span class="comment">% default</span>
natsort(Af, [], <span class="string">'descend'</span>)
</pre>
<pre class="codeoutput">ans = 
  1&times;6 string array
    ""    "1"    "2"    "10"    "a"    "B"
ans = 
  1&times;6 string array
    "B"    "a"    "10"    "2"    "1"    ""
</pre>
<h2 id="6">Input 3+: Char/Number Order</h2>
<p>By default <tt>NATSORT</tt> sorts characters after numbers. An optional input argument selects if characters are treated as <i>greater-than</i> or <i>less-than</i> numbers:</p>
<pre class="codeinput">natsort(Af, [], <span class="string">'num&lt;char'</span>) <span class="comment">% default</span>
natsort(Af, [], <span class="string">'char&lt;num'</span>)
</pre>
<pre class="codeoutput">ans = 
  1&times;6 string array
    ""    "1"    "2"    "10"    "a"    "B"
ans = 
  1&times;6 string array
    ""    "a"    "B"    "1"    "2"    "10"
</pre>
<h2 id="7">Input 3+: NaN/Number Order</h2>
<p>By default <tt>NATSORT</tt> sorts NaN after all other numbers. An optional input argument selects if NaN are treated as <i>greater-than</i> or <i>less-than</i> numbers:</p>
<pre class="codeinput">Ag = [<span class="string">"10"</span>, <span class="string">"1"</span>, <span class="string">"NaN"</span>, <span class="string">"2"</span>];
natsort(Ag, <span class="string">'NaN|\d+'</span>, <span class="string">'num&lt;NaN'</span>) <span class="comment">% default</span>
natsort(Ag, <span class="string">'NaN|\d+'</span>, <span class="string">'NaN&lt;num'</span>)
</pre>
<pre class="codeoutput">ans = 
  1&times;4 string array
    "1"    "2"    "10"    "NaN"
ans = 
  1&times;4 string array
    "NaN"    "1"    "2"    "10"
</pre>
<h2 id="8">Input 3+: <tt>SSCANF</tt> Format String (Floating Point, Hexadecimal, Octal, Binary, 64 Bit Integer)</h2>
<p>The default format string <tt>'%f'</tt> will correctly parse many common number formats, including decimal integers, decimal fractions, <tt>NaN</tt>, <tt>Inf</tt>, and numbers written in E-notation. For hexadecimal, octal, binary, and 64-bit integers the format string must be specified as an input argument. Supported <a href="https://www.mathworks.com/help/matlab/ref/sscanf.html"><tt>SSCANF</tt></a> formats are shown in this table:</p>
<p>
<table>
 <tr><th>Format String</th><th>Number Types</th></tr>
 <tr><td>%e, %f, %g</td>   <td>floating point numbers</td></tr>
 <tr><td>%d</td>           <td>signed integer decimal</td></tr>
 <tr><td>%i</td>           <td>signed integer decimal, octal, or hexadecimal</td></tr>
 <tr><td>%ld, %li</td>     <td>signed integer 64 bit, decimal, octal, or hexadecimal</td></tr>
 <tr><td>%u</td>           <td>unsigned integer decimal</td></tr>
 <tr><td>%o</td>           <td>unsigned integer octal</td></tr>
 <tr><td>%x</td>           <td>unsigned integer hexadecimal</td></tr>
 <tr><td>%lu, %lo, %lx</td><td>unsigned integer 64-bit decimal, octal, or hexadecimal</td></tr>
 <tr><td>%b</td>           <td>unsigned binary integer (custom parsing, not SSCANF)</td></tr>
</table>
</p>
<p>For example large integers can be converted to 64-bit numerics, with their full precision:</p>
<pre class="codeinput">Ah = [<span class="string">"18446744073709551614"</span>, <span class="string">"18446744073709551615"</span>, <span class="string">"18446744073709551613"</span>];
natsort(Ah, [], <span class="string">'%lu'</span>)
</pre>
<pre class="codeoutput">ans = 
  1&times;3 string array
    "18446744073709551613"    "18446744073709551614"    "18446744073709551615"
</pre>
<h2 id="9">Input 3+: Text Sorting Function</h2>
<p>A text sorting function may provide an arbitrary/custom sequence sort, e.g. <a href="https://www.mathworks.com/matlabcentral/fileexchange/132263"><tt>ARBSORT</tt></a> may be used to sort text into alphabetical order for many languages: refer to the <tt>ARBSORT</tt> help for more information on how to specify the custom text sequence order, handle diacritics, etc. Note that the sort direction, case sensitivity, etc. of the text sorting function must be appropriately parameterized as required: <a href="https://www.mathworks.com/help/matlab/math/parameterizing-functions.html">https://www.mathworks.com/help/matlab/math/parameterizing-functions.html</a>.</p>
<p>An example using <tt>ARBSORT</tt> to sort into Spanish alphabetical order:</p>
<pre class="codeinput">Ai = [<span class="string">"&ntilde;a_2"</span>, <span class="string">"&ntilde;o"</span>, <span class="string">"os"</span>, <span class="string">"&ntilde;a_10"</span>, <span class="string">"ni"</span>, <span class="string">"&ntilde;a_1"</span>];
alfabeto = num2cell([<span class="string">'A'</span>:<span class="string">'N'</span>,<span class="string">'&Ntilde;'</span>,<span class="string">'O'</span>:<span class="string">'Z'</span>]); <span class="comment">% Spanish alphabet</span>
natsort(Ai, [], @(t)arbsort(t,alfabeto)) <span class="comment">% download ARBSORT from FEX 132263.</span>
</pre>
<pre class="codeoutput">ans = 
  1&times;6 string array
    "ni"    "&ntilde;a_1"    "&ntilde;a_2"    "&ntilde;a_10"    "&ntilde;o"    "os"
</pre>
<h2 id="10">Output 2: Sort Index</h2>
<p>The second output <tt>ndx</tt> is a numeric array of the sort indices, in general such that <tt>B = A(ndx)</tt> where <tt>B = natsort(A,...)</tt>. Note that <tt>NATSORT</tt> provides a <i>stable sort:</i>
</p>
<pre class="codeinput">Ak = [<span class="string">"abc2xyz"</span>, <span class="string">"abc10xyz"</span>, <span class="string">"abc2xyz"</span>, <span class="string">"abc1xyz"</span>];
[out,ndx] = natsort(Ak)
</pre>
<pre class="codeoutput">out = 
  1&times;4 string array
    "abc1xyz"    "abc2xyz"    "abc2xyz"    "abc10xyz"
ndx =
     4     1     3     2
</pre>
<h2 id="11">Output 3: Debugging Array</h2>
<p>The third output <tt>dbg</tt> is a cell array which contains all matched numbers (after converting to numeric using the specified <tt>SSCANF</tt> format) and all non-number substrings of <tt>A</tt>. The cell array is intended for visually confirming that the numbers of <tt>A</tt> are being correctly identified by the regular expression. Note that the rows of the debugging cell array are <a href="https://www.mathworks.com/company/newsletters/articles/matrix-indexing-in-matlab.html">linearly indexed</a> from <tt>A</tt>, whereas the number of columns depends on how many numbers were identified within the text of <tt>A</tt>.</p>
<pre class="codeinput">[~,~,dbg] = natsort(Ak)
</pre>
<pre class="codeoutput">dbg =
  4&times;3 cell array
    {'abc'}    {[ 2]}    {'xyz'}
    {'abc'}    {[10]}    {'xyz'}
    {'abc'}    {[ 2]}    {'xyz'}
    {'abc'}    {[ 1]}    {'xyz'}
</pre>
<h2 id="12">Regular Expression: Decimal Fractions, E-notation, +/- Sign</h2>
<p>
<tt>NATSORT</tt> relies on <a href="https://www.mathworks.com/help/matlab/ref/regexpi.html"><tt>REGEXPI</tt></a> to detect numbers in the strings. In order to match the required number format (e.g. decimal fractions, exponents, or a positive/negative sign, etc.) simply provide a suitable <a href="https://www.mathworks.com/help/matlab/matlab_prog/regular-expressions.html">regular expression</a> as the second input argument:</p>
<pre class="codeinput">Am = [<span class="string">"x+NaN"</span>, <span class="string">"x11.5"</span>, <span class="string">"x-1.4"</span>, <span class="string">"x"</span>, <span class="string">"x-Inf"</span>, <span class="string">"x+0.3"</span>];
sort(Am) <span class="comment">% for comparison</span>
natsort(Am, <span class="string">'(+|-)?(NaN|Inf|\d+\.?\d*)'</span>)
An = [<span class="string">"0.56e007"</span>, <span class="string">""</span>, <span class="string">"43E-2"</span>, <span class="string">"10000"</span>, <span class="string">"9.8"</span>];
sort(An) <span class="comment">% for comparison</span>
natsort(An, <span class="string">'(+|-)?\d+\.?\d*([eE](+|-)?\d+)?'</span>)
</pre>
<pre class="codeoutput">ans = 
  1&times;6 string array
    "x"    "x+0.3"    "x+NaN"    "x-1.4"    "x-Inf"    "x11.5"
ans = 
  1&times;6 string array
    "x"    "x-Inf"    "x-1.4"    "x+0.3"    "x11.5"    "x+NaN"
ans = 
  1&times;5 string array
    ""    "0.56e007"    "10000"    "43E-2"    "9.8"
ans = 
  1&times;5 string array
    ""    "43E-2"    "9.8"    "10000"    "0.56e007"
</pre>
<h2 id="13">Regular Expression: Hexadecimal, Octal, Binary Integers</h2>
<p>Integers encoded in hexadecimal, octal, or binary may also be parsed and sorted correctly. This requires both an appropriate regular expression to detect the integers and also a suitable <tt>SSCANF</tt> format string for converting the detected number string into numeric:</p>
<pre class="codeinput">Ao = [<span class="string">"a0X7C4z"</span>, <span class="string">"a0X5z"</span>, <span class="string">"a0X18z"</span>, <span class="string">"a0XFz"</span>];
sort(Ao) <span class="comment">% for comparison</span>
natsort(Ao, <span class="string">'0X[0-9A-F]+'</span>, <span class="string">'%x'</span>) <span class="comment">% hexadecimal</span>
Ap = [<span class="string">"a11111000100z"</span>, <span class="string">"a101z"</span>, <span class="string">"a000000000011000z"</span>, <span class="string">"a1111z"</span>];
sort(Ap) <span class="comment">% for comparison</span>
natsort(Ap, <span class="string">'[01]+'</span>, <span class="string">'%b'</span>) <span class="comment">% binary</span>
</pre>
<pre class="codeoutput">ans = 
  1&times;4 string array
    "a0X18z"    "a0X5z"    "a0X7C4z"    "a0XFz"
ans = 
  1&times;4 string array
    "a0X5z"    "a0XFz"    "a0X18z"    "a0X7C4z"
ans = 
  1&times;4 string array
    "a000000000011000z"    "a101z"    "a11111000100z"    "a1111z"
ans = 
  1&times;4 string array
    "a101z"    "a1111z"    "a000000000011000z"    "a11111000100z"
</pre>
<h2 id="14">Regular Expression: Ignore Leading and/or Trailing Whitespace</h2>
<p>Sometimes it may be useful to match numbers <i>ignoring</i> any leading and/or trailing whitespace. This can be achieved by appending/prepending <tt>'\s*'</tt> as required to the regular expression, for example:</p>
<pre class="codeinput">Aq = [<span class="string">' 9'</span>;<span class="string">'23'</span>;<span class="string">'10'</span>;<span class="string">' 0'</span>;<span class="string">'5 '</span>] <span class="comment">% character matrix.</span>
natsort(Aq) <span class="comment">% default matches only digits, whitespace is significant.</span>
natsort(Aq,<span class="string">'\s*\d+\s*'</span>) <span class="comment">% match and ignore whitespace.</span>
</pre>
<pre class="codeoutput">Aq =
  5&times;2 char array
    ' 9'
    '23'
    '10'
    ' 0'
    '5 '
ans =
  5&times;2 char array
    '5 '
    '10'
    '23'
    ' 0'
    ' 9'
ans =
  5&times;2 char array
    ' 0'
    '5 '
    ' 9'
    '10'
    '23'
</pre>
<h2 id="15">Example: Categorical Categories</h2>
<p>These examples show how to create categories in alphanumeric order, and how to use <tt>REORDERCATS</tt> to change the category order of such an array:</p>
<pre class="codeinput">Ar = [<span class="string">"a2"</span>, <span class="string">"a10"</span>, <span class="string">"a1"</span>];
<span class="comment">% default categories order is not alphanumeric order:</span>
P = categorical(Ar);
categories(P)
<span class="comment">% reorder categories of an existing categorical array:</span>
P = reordercats(P,natsort(categories(P)));
categories(P)
<span class="comment">% alternatively create the categories in the required order:</span>
P = categorical(Ar,natsort(unique(Ar)));
categories(P)
</pre>
<pre class="codeoutput">ans =
  3&times;1 cell array
    {'a1' }
    {'a10'}
    {'a2' }
ans =
  3&times;1 cell array
    {'a1' }
    {'a2' }
    {'a10'}
ans =
  3&times;1 cell array
    {'a1' }
    {'a2' }
    {'a10'}
</pre>
<h2 id="16">Example: Decimal Comma and Decimal Point</h2>
<p>Many languages use a decimal comma instead of a decimal point. <tt>NATSORT</tt> parses both the decimal comma and the decimal point, e.g.:</p>
<pre class="codeinput">As = [<span class="string">"1,3"</span>, <span class="string">"1,10"</span>, <span class="string">"1,2"</span>];
natsort(As, <span class="string">'\d+,?\d*'</span>) <span class="comment">% match optional decimal comma</span>
</pre>
<pre class="codeoutput">ans = 
  1&times;3 string array
    "1,10"    "1,2"    "1,3"
</pre>
<h2 id="17">Bonus: Interactive Regular Expression Tool</h2>
<p>Regular expressions are powerful and compact, but getting them right is not always easy. One assistance is to download my interactive tool <a href="https://www.mathworks.com/matlabcentral/fileexchange/48930"><tt>IREGEXP</tt></a>, which lets you quickly try different regular expressions and see all of <a href="https://www.mathworks.com/help/matlab/ref/regexp.html"><tt>REGEXP</tt></a>'s outputs displayed and updated as you type:</p>
<pre class="codeinput">iregexp(<span class="string">'x1.23y45.6789z'</span>,<span class="string">'(\d+)\.?(\d*)'</span>) <span class="comment">% download IREGEXP from FEX 48930.</span>
</pre>
<img vspace="5" hspace="5" src="natsort_doc_01.png" alt=""> <p class="footer">
<br>
<a href="https://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2024b</a>
<br>
</p>
</div>
<!--
##### SOURCE BEGIN #####
%% |NATSORT| Examples
% The function <https://www.mathworks.com/matlabcentral/fileexchange/34464
% |NATSORT|> sorts the elements of a text array |A| (cell/string/...)
% taking into account number values within the text. This is known as
% _natural order_ or _alphanumeric order_. Note that MATLAB's inbuilt
% <https://www.mathworks.com/help/matlab/ref/sort.html |SORT|> function
% sorts text by <https://www.mathworks.com/help/matlab/matlab_prog/unicode-and-ascii-values.html
% character code>, as does |SORT| in most programming languages.
%
% Other useful text sorting functions:
%
% * Alphanumeric sort of filenames, foldernames, and filepaths:
% <https://www.mathworks.com/matlabcentral/fileexchange/47434 |NATSORTFILES|>
% * Alphanumeric sort the rows of a string/cell/table/etc array:
% <https://www.mathworks.com/matlabcentral/fileexchange/47433 |NATSORTROWS|>
% * Sort text into the order of arbitrary/custom text sequences:
% <https://www.mathworks.com/matlabcentral/fileexchange/132263 |ARBSORT|>
%
% Both |NATSORTFILES| and |NATSORTROWS| call |NATSORT|.
%% Basic Usage: Integer Numbers
% By default |NATSORT| interprets consecutive digits in |A| as being
% a single integer, any remaining substrings are treated as text:
Aa = ["a2", "a10", "a1"];
sort(Aa) % for comparison
natsort(Aa)
Ab = ["v9.10", "v9.5", "v9.2", "v9.10.20", "v9.10.8"];
sort(Ab) % for comparison
natsort(Ab)
%% Input 1: Array to Sort
% The first input |A| must be one of the following array types:
%
% * a cell array of character row vectors,
% * a <https://www.mathworks.com/help/matlab/matlab_prog/create-string-arrays.html string array>,
% * a <https://www.mathworks.com/help/matlab/categorical-arrays.html categorical array>,
% * a <https://www.mathworks.com/help/matlab/ref/datetime.html datetime array>,
% * any other array type that can be converted by
%   <https://www.mathworks.com/help/matlab/ref/cellstr.html |CELLSTR|>
%
% The sorted array is returned as the first output, for example:
Ac = categorical({'a2','a10','a1'});
natsort(Ac) % see also REORDERCATS below!
%% Input 2: Regular Expression
% The optional second input argument |rgx| is a regular expression which
% specifies the number matching (see "Regular Expression" sections below
% for more examples of regular expressions for matching common numbers):
Ad = ["1.3", "1.10", "1.2"];
natsort(Ad) % by default match integers.
natsort(Ad, '\d+\.?\d*') % match decimal fractions.
%% Input 3+: Case Sensitivity
% By default |NATSORT| provides a case-insensitive sort of the array elements.
% An optional input argument selects case-sensitive/insensitive sorting:
Ae = ["a2", "A20", "A1", "a", "A", "a10", "A2", "a1"];
natsort(Ae, [], 'ignorecase') % default
natsort(Ae, [], 'matchcase')
%% Input 3+: Sort Direction
% By default |NATSORT| provides an ascending sort of the array elements.
% An optional input argument selects the sort direction (note that
% characters and numbers are either both ascending or both descending):
Af = ["2", "a", "", "10", "B", "1"];
natsort(Af, [], 'ascend') % default
natsort(Af, [], 'descend')
%% Input 3+: Char/Number Order
% By default |NATSORT| sorts characters after numbers.
% An optional input argument selects if characters are treated as
% _greater-than_ or _less-than_ numbers:
natsort(Af, [], 'num<char') % default
natsort(Af, [], 'char<num')
%% Input 3+: NaN/Number Order
% By default |NATSORT| sorts NaN after all other numbers.
% An optional input argument selects if NaN are treated as
% _greater-than_ or _less-than_ numbers:
Ag = ["10", "1", "NaN", "2"];
natsort(Ag, 'NaN|\d+', 'num<NaN') % default
natsort(Ag, 'NaN|\d+', 'NaN<num')
%% Input 3+: |SSCANF| Format String (Floating Point, Hexadecimal, Octal, Binary, 64 Bit Integer)
% The default format string |'%f'| will correctly parse many common number
% formats, including decimal integers, decimal fractions, |NaN|, |Inf|,
% and numbers written in E-notation. For hexadecimal, octal, binary, and
% 64-bit integers the format string must be specified as an input argument.
% Supported <https://www.mathworks.com/help/matlab/ref/sscanf.html
% |SSCANF|> formats are shown in this table:
%
% <html>
% <table>
%  <tr><th>Format String</th><th>Number Types</th></tr>
%  <tr><td>%e, %f, %g</td>   <td>floating point numbers</td></tr>
%  <tr><td>%d</td>           <td>signed integer decimal</td></tr>
%  <tr><td>%i</td>           <td>signed integer decimal, octal, or hexadecimal</td></tr>
%  <tr><td>%ld, %li</td>     <td>signed integer 64 bit, decimal, octal, or hexadecimal</td></tr>
%  <tr><td>%u</td>           <td>unsigned integer decimal</td></tr>
%  <tr><td>%o</td>           <td>unsigned integer octal</td></tr>
%  <tr><td>%x</td>           <td>unsigned integer hexadecimal</td></tr>
%  <tr><td>%lu, %lo, %lx</td><td>unsigned integer 64-bit decimal, octal, or hexadecimal</td></tr>
%  <tr><td>%b</td>           <td>unsigned binary integer (custom parsing, not SSCANF)</td></tr>
% </table>
% </html>
%
% For example large
% integers can be converted to 64-bit numerics, with their full precision:
Ah = ["18446744073709551614", "18446744073709551615", "18446744073709551613"];
natsort(Ah, [], '%lu')
%% Input 3+: Text Sorting Function
% A text sorting function may provide an arbitrary/custom sequence sort,
% e.g. <https://www.mathworks.com/matlabcentral/fileexchange/132263
% |ARBSORT|> may be used to sort text into alphabetical order for many
% languages: refer to the |ARBSORT| help for more information on how to
% specify the custom text sequence order, handle diacritics, etc. Note
% that the sort direction, case sensitivity, etc. of the text sorting
% function must be appropriately parameterized as required:
% <https://www.mathworks.com/help/matlab/math/parameterizing-functions.html>.
%
% An example using |ARBSORT| to sort into Spanish alphabetical order:
Ai = ["ña_2", "ño", "os", "ña_10", "ni", "ña_1"];
alfabeto = num2cell(['A':'N','Ñ','O':'Z']); % Spanish alphabet
natsort(Ai, [], @(t)arbsort(t,alfabeto)) % download ARBSORT from FEX 132263.
%% Output 2: Sort Index
% The second output |ndx| is a numeric array of the sort indices,
% in general such that |B = A(ndx)| where |B = natsort(A,...)|.
% Note that |NATSORT| provides a _stable sort:_
Ak = ["abc2xyz", "abc10xyz", "abc2xyz", "abc1xyz"];
[out,ndx] = natsort(Ak)
%% Output 3: Debugging Array
% The third output |dbg| is a cell array which contains all matched numbers
% (after converting to numeric using the specified |SSCANF| format) and
% all non-number substrings of |A|. The cell array is intended for visually
% confirming that the numbers of |A| are being correctly identified by the
% regular expression. Note that the rows of the debugging cell array are
% <https://www.mathworks.com/company/newsletters/articles/matrix-indexing-in-matlab.html
% linearly indexed> from |A|, whereas the number of columns
% depends on how many numbers were identified within the text of |A|.
[~,~,dbg] = natsort(Ak)
%% Regular Expression: Decimal Fractions, E-notation, +/- Sign
% |NATSORT| relies on <https://www.mathworks.com/help/matlab/ref/regexpi.html
% |REGEXPI|> to detect numbers in the strings. In order to match
% the required number format (e.g. decimal fractions, exponents,
% or a positive/negative sign, etc.) simply provide a suitable
% <https://www.mathworks.com/help/matlab/matlab_prog/regular-expressions.html
% regular expression> as the second input argument:
Am = ["x+NaN", "x11.5", "x-1.4", "x", "x-Inf", "x+0.3"];
sort(Am) % for comparison
natsort(Am, '(+|-)?(NaN|Inf|\d+\.?\d*)')
An = ["0.56e007", "", "43E-2", "10000", "9.8"];
sort(An) % for comparison
natsort(An, '(+|-)?\d+\.?\d*([eE](+|-)?\d+)?')
%% Regular Expression: Hexadecimal, Octal, Binary Integers
% Integers encoded in hexadecimal, octal, or binary may also be parsed and
% sorted correctly. This requires both an appropriate regular expression
% to detect the integers and also a suitable |SSCANF| format string for
% converting the detected number string into numeric:
Ao = ["a0X7C4z", "a0X5z", "a0X18z", "a0XFz"];
sort(Ao) % for comparison
natsort(Ao, '0X[0-9A-F]+', '%x') % hexadecimal
Ap = ["a11111000100z", "a101z", "a000000000011000z", "a1111z"];
sort(Ap) % for comparison
natsort(Ap, '[01]+', '%b') % binary
%% Regular Expression: Ignore Leading and/or Trailing Whitespace
% Sometimes it may be useful to match numbers _ignoring_ any leading
% and/or trailing whitespace. This can be achieved by appending/prepending
% |'\s*'| as required to the regular expression, for example:
Aq = [' 9';'23';'10';' 0';'5 '] % character matrix.
natsort(Aq) % default matches only digits, whitespace is significant.
natsort(Aq,'\s*\d+\s*') % match and ignore whitespace.
%% Example: Categorical Categories
% These examples show how to create categories in alphanumeric order, and
% how to use |REORDERCATS| to change the category order of such an array:
Ar = ["a2", "a10", "a1"];
% default categories order is not alphanumeric order:
P = categorical(Ar);
categories(P)
% reorder categories of an existing categorical array:
P = reordercats(P,natsort(categories(P)));
categories(P)
% alternatively create the categories in the required order:
P = categorical(Ar,natsort(unique(Ar)));
categories(P)
%% Example: Decimal Comma and Decimal Point
% Many languages use a decimal comma instead of a decimal point.
% |NATSORT| parses both the decimal comma and the decimal point, e.g.:
As = ["1,3", "1,10", "1,2"];
natsort(As, '\d+,?\d*') % match optional decimal comma
%% Bonus: Interactive Regular Expression Tool
% Regular expressions are powerful and compact, but getting them right is
% not always easy. One assistance is to download my interactive tool
% <https://www.mathworks.com/matlabcentral/fileexchange/48930 |IREGEXP|>,
% which lets you quickly try different regular expressions and see all of
% <https://www.mathworks.com/help/matlab/ref/regexp.html |REGEXP|>'s
% outputs displayed and updated as you type:
iregexp('x1.23y45.6789z','(\d+)\.?(\d*)') % download IREGEXP from FEX 48930.
##### SOURCE END #####
-->
</body>
</html>
